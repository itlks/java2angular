<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:jsp="http://java.sun.com/JSP/Page"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	template="/templates/template_com_migalha.xhtml">

	<ui:define name="content">
	
		<p:outputPanel styleClass="row">
			<p:outputPanel styleClass="col-lg-12 ">
				<p:outputPanel styleClass=" titulo-painel">
					<h4>Selecione a operação a ser cancelada</h4>
				</p:outputPanel>
			</p:outputPanel>
		</p:outputPanel>

		<p:outputPanel styleClass="row">
			<p:outputPanel styleClass="col-lg-12">
				<p:outputPanel styleClass="box-shadow space-b">

					<p:outputPanel styleClass="row space-b">
						<p:outputPanel styleClass="col-md-12">
							<h5>
								<strong>Aplicação</strong>
							</h5>
						</p:outputPanel>
					</p:outputPanel>

					<p:outputPanel styleClass="row">
						<p:outputPanel styleClass="col-md-12">
							<p:outputPanel styleClass="table-responsive table table-striped">
							
								<p:dataTable 	id="tabelaAplicacoes" 
												styleClass="table-click"
												value="#{investimentosRendaFixaCancelarOperacaoBBean.listaAplicacoes}"
												rowKey="#{aplicacao.secuenc}" 
												selection="#{investimentosRendaFixaCancelarOperacaoBBean.operacaoSelecionado}"
												selectionMode="single"
												var="aplicacao">
									<p:column >
										<f:facet name="header" >
											<h:outputText value="Produto" />
										</f:facet>	
										<h:outputText value="#{aplicacao.despro}" />
									</p:column>
									
									<p:column styleClass="text-right">
										<f:facet name="header" >
											<h:outputText value="Valor da Aplicação" styleClass="space-rr"/>									
										</f:facet>
										<h:outputText value="#{aplicacao.sdoini}" styleClass="space-rr"/>
									</p:column>
									
									<p:column >
										<f:facet name="header" >
											<h:outputText value="Taxa/Percentual" styleClass="space-ll"/>
										</f:facet>
										<h:outputText value="?" styleClass="space-ll"/>
									</p:column>
									
									<p:column >
										<f:facet name="header" >
											<h:outputText value="Prazo" />
										</f:facet>
										<h:outputText value="#{aplicacao.prazoAplicacao}" />
									</p:column>
									
								</p:dataTable>
								
							</p:outputPanel>
						</p:outputPanel>
					</p:outputPanel>

					<p:outputPanel styleClass="row space-b">
						<p:outputPanel styleClass="col-md-12">
							<h5>
								<strong>Resgate</strong>
							</h5>
						</p:outputPanel>
					</p:outputPanel>

					<p:outputPanel styleClass="row">
						<p:outputPanel styleClass="col-md-12">
							<p:outputPanel styleClass="table-responsive table table-striped">
							
								<p:dataTable 	id="tabelaResgates" 
												styleClass="table-click"
												value="#{investimentosRendaFixaCancelarOperacaoBBean.listaResgates}"
												rowKey="#{resgate.secuenc}" 
												selection="#{investimentosRendaFixaCancelarOperacaoBBean.operacaoSelecionado}"
												selectionMode="single"
												var="resgate">
									<p:column >
										<f:facet name="header" >
											<h:outputText value="Produto" />
										</f:facet>	
										<h:outputText value="#{resgate.desreds}" />
									</p:column>
									
									<p:column styleClass="text-right">
										<f:facet name="header" >
											<h:outputText value="Valor da Aplicação" styleClass="space-rr"/>									
										</f:facet>
										<h:outputText value="#{resgate.importe}"  styleClass="space-rr"/>
									</p:column>
									
									<p:column >
										<f:facet name="header" >
											<h:outputText value="Taxa/Percentual" styleClass="space-ll"/>
										</f:facet>
										<h:outputText value="#{resgate.porcent}" styleClass="space-ll">
											<f:convertNumber minFractionDigits="5"></f:convertNumber>
										</h:outputText>
									</p:column>
									
									<p:column >
										<f:facet name="header" >
											<h:outputText value="Prazo" />
										</f:facet>
										<h:outputText value="#{resgate.prazo}" /> dias
									</p:column>
								</p:dataTable>
								
							</p:outputPanel>
						</p:outputPanel>
					</p:outputPanel>

				</p:outputPanel>
			</p:outputPanel>
		</p:outputPanel>

		<p:outputPanel styleClass="row space-b">
			<p:outputPanel styleClass="col-xs-12 text-right">

				<p:commandLink styleClass="btn btn-default btn-cinza"
					action="#{investimentosRendaFixaCancelarOperacaoBBean.voltarMenu}" role="button">
					Voltar 
				</p:commandLink>
				<p:commandLink styleClass="btn btn-default"
					action="#{investimentosRendaFixaCancelarOperacaoBBean.irParaTelaConfirmar}" role="button">
					Continuar 
				</p:commandLink>

			</p:outputPanel>
		</p:outputPanel>

		<script>
			$(".table-click tbody tr").click(function() {
				$(".table-click tbody tr").removeClass("yellow");
				$(this).toggleClass("yellow");
			});
		</script>

	</ui:define>
</ui:composition>